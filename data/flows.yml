flows:
  select_emotional_state:
    description: Initial emotional state selection
    steps:
      - collect: emotional_state
        description: Child selects their current emotional state

  handle_really_mad:
    description: Handle really mad child - brother scenario
    steps:
      - action: utter_greet_angry
      - collect: trigger_situation
        description: What made them angry
      - action: utter_acknowledge_situation

  continue_anger_help:
    description: Continue helping with anger management
    steps:
      - action: utter_validate_anger
      - collect: wants_counting
        description: If they want to try counting
      - action: utter_suggest_counting

  do_counting_exercise:
    description: Guide through counting exercise
    steps:
      - action: utter_count_together
      - collect: counting_feeling
        description: How they feel after counting
      - action: utter_normalize_feeling

  handle_annoyed:
    description: Handle annoyed child - friend scenario
    steps:
      - action: utter_greet_annoyed
      - collect: trigger_situation
        description: What's bothering them
      - action: utter_acknowledge_friend_situation

  continue_annoyed_help:
    description: Continue helping with friend situation
    steps:
      - action: utter_validate_frustration
      - collect: wants_communication
        description: If they want to try communication
      - action: utter_suggest_communication

  check_final_state:
    description: Check how they feel after help
    steps:
      - action: utter_check_final_feeling
      - collect: final_emotional_state
        description: Final emotional state
      - action: utter_celebrate_improvement