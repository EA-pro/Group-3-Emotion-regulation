version: "3.1"


rules:
- rule: Restart conversation anytime
  steps:
  - intent: restart_conversation
  - action: action_restart_conversation


- rule: answer knowledge question
  steps:
  - intent: ask_question
  - action: action_trigger_search

- rule: finish riddle form
  condition:
  - active_loop: riddle_form
  steps:
  - action: riddle_form
  - active_loop: null
  - action: action_reset_riddle

- rule: handle mood after support completion (happy)
  condition:
  - slot_was_set:
    - support_completed: true
  steps:
  - action: utter_support_done_check_mood
  - intent: mood_happy
  - action: action_start_reflect_flow

- rule: handle mood after support completion (sad)
  condition:
  - slot_was_set:
    - support_completed: true
  steps:
  - action: utter_support_done_check_mood
  - intent: mood_sad
  - action: action_start_reflect_flow

- rule: handle mood after support completion (angry)
  condition:
  - slot_was_set:
    - support_completed: true
  steps:
  - action: utter_support_done_check_mood
  - intent: mood_angry
  - action: action_start_reflect_flow